"use strict";function Element(e){this.elem=document.querySelector("."+e),this.status="disabled"}function InputElement(){Element.apply(this,arguments)}function checkTarget(e,t){return~e.parentElement.className.indexOf(t)||~e.className.indexOf(t)?!0:void 0}Element.prototype.show=function(){this.elem.classList.remove("hide"),this.elem.style.cssText="animation: show_gently; animation-duration: 0.3s;",this.status="active"},Element.prototype.hide=function(){this.elem.style.cssText="animation: hide_gently; animation-duration: 0.3s;",this.status="disabled";var e=this;setTimeout(function(){e.elem.classList.add("hide")},300)},Element.prototype.popupsManager=function(){"disabled"==this.status?this.show():this.hide()},InputElement.prototype=Object.create(Element.prototype),InputElement.prototype.constructor=InputElement,InputElement.prototype.inFocus=function(){this.elem.placeholder&&(this.hintOnInput=document.createElement("p"),this.hintOnInput.className="input-hint",this.hintOnInput.innerHTML=this.elem.placeholder,this.elem.parentElement.insertBefore(this.hintOnInput,this.elem),this.elem.placeholder="")},InputElement.prototype.outOfFocus=function(){this.elem.placeholder=this.hintOnInput.innerHTML,this.elem.parentElement.removeChild(this.hintOnInput)};var search=new Element("user-panel__search-field"),userLogin=new Element("user-panel__login-form-block"),basketPreview=new Element("user-panel__list-goods"),feedbackForm=new Element("feedback-block"),popupBg=new Element("popup-background");document.addEventListener("click",function(e){var t=e.target;checkTarget(t,"user-panel__search")&&search.popupsManager(),checkTarget(t,"user-panel__user-login")&&userLogin.popupsManager(),checkTarget(t,"user-panel__user-cart")&&basketPreview.popupsManager(),checkTarget(t,"map__button")&&(feedbackForm.show(),popupBg.show()),(checkTarget(t,"feedback-block__close")||checkTarget(t,"popup-background"))&&(feedbackForm.hide(),popupBg.hide())});var feedbackFormInput1=new InputElement("feedback-block__input_first"),feedbackFormInput2=new InputElement("feedback-block__input_second"),loginFormInput1=new InputElement("user-panel__login-form-input_first"),loginFormInput2=new InputElement("user-panel__login-form-input_second");document.addEventListener("focusin",function(e){var t=e.target;checkTarget(t,"feedback-block__input_first")&&feedbackFormInput1.inFocus(),checkTarget(t,"feedback-block__input_second")&&feedbackFormInput2.inFocus(),checkTarget(t,"user-panel__login-form-input_first")&&loginFormInput1.inFocus(),checkTarget(t,"user-panel__login-form-input_second")&&loginFormInput2.inFocus()}),document.addEventListener("focusout",function(e){var t=e.target;checkTarget(t,"feedback-block__input_first")&&feedbackFormInput1.outOfFocus(),checkTarget(t,"feedback-block__input_second")&&feedbackFormInput2.outOfFocus(),checkTarget(t,"user-panel__login-form-input_first")&&loginFormInput1.outOfFocus(),checkTarget(t,"user-panel__login-form-input_second")&&loginFormInput2.outOfFocus()});